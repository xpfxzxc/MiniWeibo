{% import "shared/_field.html" as field %}

{% extends "layouts/_base.html" %}

{% set title = '更新个人资料' %}

{% block content %}
  <div class="col-md-8 offset-md-2">
    <div class="card">
      <h5 class="card-header">更新个人资料</h5>
      <div class="card-body">
        {% include "shared/_errors.html" %}
        <div class="row justify-content-center">
          <section class="gravatar_edit">
            <a href="https://gravatar.com/emails" target="_blank">
              <img src="{{ user.gravatar(120) }}" alt="{{ user.name }}">
            </a>
          </section>
        </div>

        <form method="POST" action="/users/{{ user.id }}">
          {{ field.method('PATCH') }}
          {% include "shared/_csrf.html" %}
          <div class="form-group">
            <label for="name">名称：</label>
            <input type="text" class="form-control" name="name" value="{{ user.name }}">
          </div>
          <div class="form-group">
            <label for="email">邮箱：</label>
            <input type="email" class="form-control" name="email" value="{{ user.email }}" readonly aria-describedby="emailHelp">
          </div>
          <div class="form-group">
            <label for="password">密码：</label>
            <input type="password" class="form-control" name="password">
          </div>
          <div class="form-group">
              <label for="password_confirmation">确认密码：</label>
              <input type="password" class="form-control" name="password_confirmation">
            </div>
          <button type="submit" class="btn btn-primary">更新</button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}